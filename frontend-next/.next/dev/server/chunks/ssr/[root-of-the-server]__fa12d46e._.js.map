{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/rag_pdf/frontend-next/src/app/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { UserIcon, DocumentTextIcon, ChatBubbleLeftRightIcon, ArrowRightStartOnRectangleIcon, CloudArrowUpIcon, TrashIcon, ClipboardDocumentIcon, StarIcon, ChartBarIcon, CogIcon, CpuChipIcon, ShareIcon, PaperAirplaneIcon } from '@heroicons/react/24/outline'\r\nimport axios from 'axios'\r\n\r\n// Configure axios to point to the backend\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:8000',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\ninterface User {\r\n  id: string\r\n  username: string\r\n  full_name?: string\r\n}\r\n\r\ninterface ChatMessage {\r\n  id: string\r\n  user_message: string\r\n  bot_response: string\r\n  timestamp: string\r\n  session_id: string\r\n  feedback?: number\r\n}\r\n\r\ninterface GeneralChatMessage {\r\n  id: string\r\n  sender: 'user' | 'bot'\r\n  message: string\r\n  timestamp: string\r\n}\r\n\r\ninterface Document {\r\n  id: string\r\n  filename: string\r\n  upload_time: string\r\n  file_size: number\r\n  chat_count: number\r\n  is_favorite: boolean\r\n}\r\n\r\nexport default function HomePage() {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [documents, setDocuments] = useState<Document[]>([])\r\n  const [selectedDocument, setSelectedDocument] = useState<Document | null>(null)\r\n  const [chatMessages, setChatMessages] = useState<ChatMessage[]>([])\r\n  const [currentMessage, setCurrentMessage] = useState('')\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // General Chat State\r\n  const [generalChatMessages, setGeneralChatMessages] = useState<GeneralChatMessage[]>([])\r\n  const [generalChatInput, setGeneralChatInput] = useState('')\r\n  const [isGeneralChatLoading, setIsGeneralChatLoading] = useState(false)\r\n  const [showMemoryModal, setShowMemoryModal] = useState(false)\r\n  const [showSocialBotsModal, setShowSocialBotsModal] = useState(false)\r\n  const [showLoginModal, setShowLoginModal] = useState(false)\r\n  const [loginUsername, setLoginUsername] = useState('')\r\n  const [loginPassword, setLoginPassword] = useState('')\r\n  const [loginError, setLoginError] = useState('')\r\n\r\n  // AI Providers State\r\n  const [availableProviders, setAvailableProviders] = useState<string[]>([])\r\n  const [selectedProvider, setSelectedProvider] = useState('openai')\r\n  const [providerModels, setProviderModels] = useState<string[]>([])\r\n  const [selectedModel, setSelectedModel] = useState('')\r\n  const [apiKeys, setApiKeys] = useState<Record<string, string>>({})\r\n  const [showApiKeyInput, setShowApiKeyInput] = useState(false)\r\n  const [newApiKey, setNewApiKey] = useState('')\r\n\r\n  // Google Sheets State\r\n  const [sheetsUrl, setSheetsUrl] = useState('')\r\n  const [showSheetsModal, setShowSheetsModal] = useState(false)\r\n  const [sheetsPreview, setSheetsPreview] = useState<any>(null)\r\n  const [showAIConfigModal, setShowAIConfigModal] = useState(false)\r\n  const [sheetsProcessingStatus, setSheetsProcessingStatus] = useState<string>('')\r\n\r\n  // Upload Enhancement State\r\n  const [uploadType, setUploadType] = useState<'pdf' | 'sheets'>('pdf')\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n\r\n  // Memory Management State\r\n  const [memoryStats, setMemoryStats] = useState<any>(null)\r\n  const [newMemoryType, setNewMemoryType] = useState('working')\r\n  const [newMemoryContent, setNewMemoryContent] = useState('')\r\n  const [memorySearchQuery, setMemorySearchQuery] = useState('')\r\n  const [memorySearchResults, setMemorySearchResults] = useState<any[]>([])\r\n\r\n  // Social Bots State\r\n  const [botConfigs, setBotConfigs] = useState<any>({})\r\n  const [newBotPlatform, setNewBotPlatform] = useState('discord')\r\n  const [newBotToken, setNewBotToken] = useState('')\r\n  const [newBotWebhook, setNewBotWebhook] = useState('')\r\n  const [newBotChannels, setNewBotChannels] = useState('')\r\n  const [selectedBotPlatform, setSelectedBotPlatform] = useState('discord')\r\n  const [selectedBotChannel, setSelectedBotChannel] = useState('')\r\n  const [botMessage, setBotMessage] = useState('')\r\n\r\n  // Feedback State\r\n  const [showFeedbackModal, setShowFeedbackModal] = useState(false)\r\n  const [feedbackRating, setFeedbackRating] = useState(0)\r\n  const [feedbackType, setFeedbackType] = useState('good')\r\n  const [feedbackText, setFeedbackText] = useState('')\r\n  const [selectedChatForFeedback, setSelectedChatForFeedback] = useState<any>(null)\r\n  const [feedbackStats, setFeedbackStats] = useState<any>(null)\r\n\r\n  useEffect(() => {\r\n    checkAuth()\r\n    loadDocuments()\r\n    loadAIProviders()\r\n    loadApiKeys()\r\n    fetchFeedbackStats()\r\n  }, [])\r\n\r\n  const checkAuth = async () => {\r\n    try {\r\n      const response = await api.get('/api/auth/me')\r\n      setUser(response.data)\r\n    } catch (error) {\r\n      setUser(null)\r\n    }\r\n  }\r\n\r\n  const loadDocuments = async () => {\r\n    try {\r\n      const response = await api.get('/api/documents')\r\n      setDocuments(response.data.documents || [])\r\n    } catch (error) {\r\n      console.error('Failed to load documents:', error)\r\n    }\r\n  }\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      setLoginError('')\r\n      const response = await api.post('/api/auth/login', {\r\n        username: loginUsername,\r\n        password: loginPassword\r\n      })\r\n\r\n      if (response.data.success) {\r\n        setUser(response.data.user)\r\n        setShowLoginModal(false)\r\n        setLoginUsername('')\r\n        setLoginPassword('')\r\n        setLoginError('')\r\n      }\r\n    } catch (error: any) {\r\n      setLoginError(error.response?.data?.detail || 'Login failed. Please try again.')\r\n      console.error('Login failed:', error)\r\n    }\r\n  }\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      // Simple client-side logout - no server endpoint needed\r\n      setUser(null)\r\n    } catch (error) {\r\n      console.error('Logout failed:', error)\r\n    }\r\n  }\r\n\r\n  // AI Providers Functions\r\n  const loadAIProviders = async () => {\r\n    try {\r\n      const response = await api.get('/api/ai/providers')\r\n      const providers = response.data.available || []\r\n      setAvailableProviders(providers)\r\n      if (providers.length > 0) {\r\n        setSelectedProvider(providers[0])\r\n        loadProviderModels(providers[0])\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load AI providers:', error)\r\n    }\r\n  }\r\n\r\n  const loadProviderModels = async (provider: string) => {\r\n    try {\r\n      const response = await api.get(`/api/ai/providers/${provider}/models`)\r\n      setProviderModels(response.data.models || [])\r\n      if (response.data.models?.length > 0) {\r\n        setSelectedModel(response.data.models[0])\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load provider models:', error)\r\n    }\r\n  }\r\n\r\n  const handleProviderChange = (provider: string) => {\r\n    setSelectedProvider(provider)\r\n    loadProviderModels(provider)\r\n  }\r\n\r\n  // API Key Management Functions\r\n  const loadApiKeys = async () => {\r\n    try {\r\n      const response = await api.get('/api/config/api-keys')\r\n      setApiKeys(response.data.api_keys || {})\r\n    } catch (error) {\r\n      console.error('Failed to load API keys:', error)\r\n    }\r\n  }\r\n\r\n  const saveApiKey = async () => {\r\n    if (!newApiKey.trim() || !selectedProvider) return\r\n\r\n    try {\r\n      await api.post('/api/config/api-key', {\r\n        provider: selectedProvider,\r\n        api_key: newApiKey.trim()\r\n      })\r\n      setApiKeys(prev => ({ ...prev, [selectedProvider]: newApiKey.trim() }))\r\n      setNewApiKey('')\r\n      setShowApiKeyInput(false)\r\n    } catch (error) {\r\n      console.error('Failed to save API key:', error)\r\n    }\r\n  }\r\n\r\n  const deleteApiKey = async (provider: string) => {\r\n    try {\r\n      await api.delete(`/api/config/api-key/${provider}`)\r\n      setApiKeys(prev => {\r\n        const newKeys = { ...prev }\r\n        delete newKeys[provider]\r\n        return newKeys\r\n      })\r\n    } catch (error) {\r\n      console.error('Failed to delete API key:', error)\r\n    }\r\n  }\r\n\r\n  // Google Sheets Functions\r\n  const previewGoogleSheets = async () => {\r\n    if (!sheetsUrl.trim()) return\r\n\r\n    try {\r\n      setIsProcessing(true)\r\n      const response = await api.post('/api/google-sheets/preview', {\r\n        sheets_url: sheetsUrl\r\n      })\r\n      setSheetsPreview(response.data)\r\n    } catch (error) {\r\n      console.error('Failed to preview Google Sheets:', error)\r\n      if (error.response?.status === 500) {\r\n        alert('Google Sheets preview is currently unavailable. Vector database is not configured.')\r\n      } else {\r\n        alert('Failed to preview Google Sheets. Please check the URL and try again.')\r\n      }\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  const processGoogleSheets = async () => {\r\n    if (!sheetsUrl.trim()) return\r\n\r\n    try {\r\n      setIsProcessing(true)\r\n      setSheetsProcessingStatus('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Google Sheets...')\r\n\r\n      const response = await api.post('/api/google-sheets/process', {\r\n        sheets_url: sheetsUrl\r\n      })\r\n\r\n      setSheetsProcessingStatus('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...')\r\n\r\n      const result = response.data\r\n\r\n      if (result.success) {\r\n        // Show detailed success message\r\n        const chunksProcessed = result.chunks_processed || 0\r\n        const sheetsData = result.sheets_data || {}\r\n        const rowCount = sheetsData.row_count || 0\r\n        const columnCount = sheetsData.column_count || 0\r\n        const sheetName = sheetsData.sheet_name || 'Unknown'\r\n\r\n        setSheetsProcessingStatus(`‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• ${chunksProcessed} ‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏≤‡∏Å ${rowCount} ‡πÅ‡∏ñ‡∏ß`)\r\n\r\n        const successMessage = `‚úÖ ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• Google Sheets ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\\n\\n` +\r\n          `üìä Sheet: ${sheetName}\\n` +\r\n          `üìà ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${rowCount} ‡πÅ‡∏ñ‡∏ß √ó ${columnCount} ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå\\n` +\r\n          `üîß ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà process ‡πÅ‡∏•‡πâ‡∏ß: ${chunksProcessed} ‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô\\n` +\r\n          `üîó URL: ${sheetsUrl}`\r\n\r\n        alert(successMessage)\r\n\r\n        loadDocuments()\r\n        setShowSheetsModal(false)\r\n        setSheetsUrl('')\r\n        setSheetsPreview(null)\r\n      } else {\r\n        setSheetsProcessingStatus(`‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ${result.message || 'Unknown error'}`)\r\n        alert(`‚ùå ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• Google Sheets ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ${result.message || 'Unknown error'}`)\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Failed to process Google Sheets:', error)\r\n\r\n      let errorMessage = 'Failed to process Google Sheets. Please check the URL and try again.'\r\n\r\n      if (error.response?.status === 500) {\r\n        errorMessage = 'Google Sheets processing is currently unavailable. Vector database is not configured.'\r\n      } else if (error.response?.data?.detail) {\r\n        errorMessage = `Processing failed: ${error.response.data.detail}`\r\n      } else if (error.response?.data?.message) {\r\n        errorMessage = `Processing failed: ${error.response.data.message}`\r\n      }\r\n\r\n      setSheetsProcessingStatus(`‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ${errorMessage}`)\r\n      alert(`‚ùå ${errorMessage}`)\r\n    } finally {\r\n      setIsProcessing(false)\r\n      // Clear status after 3 seconds\r\n      setTimeout(() => {\r\n        setSheetsProcessingStatus('')\r\n      }, 3000)\r\n    }\r\n  }\r\n\r\n  const handleUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = event.target.files\r\n    if (!files || files.length === 0) return\r\n\r\n    const formData = new FormData()\r\n    const fileNames = []\r\n\r\n    // Add files one by one (single file upload endpoint)\r\n    for (let i = 0; i < files.length; i++) {\r\n      const file = files[i]\r\n      const fileFormData = new FormData()\r\n      fileFormData.append('file', file)\r\n      fileFormData.append('user_id', '1')\r\n\r\n      try {\r\n        setIsLoading(true)\r\n        console.log(`Uploading file: ${file.name}`)\r\n\r\n        // Use upload-only endpoint\r\n        const response = await api.post('/api/documents/upload', fileFormData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n          },\r\n        })\r\n\r\n        console.log('Upload response:', response.data)\r\n\r\n        if (response.data.success) {\r\n          fileNames.push(file.name)\r\n        } else {\r\n          alert(`‚ùå Upload failed for ${file.name}: ${response.data.message}`)\r\n        }\r\n      } catch (error: any) {\r\n        console.error(`Upload failed for ${file.name}:`, error)\r\n        const errorMessage = error.response?.data?.detail || error.message || 'Unknown error occurred'\r\n        alert(`‚ùå Upload failed for ${file.name}: ${errorMessage}`)\r\n      }\r\n    }\r\n\r\n    // Reload documents list after all uploads\r\n    loadDocuments()\r\n\r\n    // Show summary\r\n    if (fileNames.length > 0) {\r\n      alert(`‚úÖ Successfully uploaded ${fileNames.length} files:\\n${fileNames.join('\\n')}\\n\\nClick 'Process Data' to add them to the vector database.`)\r\n    }\r\n\r\n    setIsLoading(false)\r\n  }\r\n\r\n  const handleProcessData = async () => {\r\n    // Get unprocessed documents\r\n    const unprocessedDocuments = documents.filter(doc => !doc.processed)\r\n\r\n    if (unprocessedDocuments.length === 0) {\r\n      alert('‚ÑπÔ∏è No unprocessed documents found. All documents are already processed.')\r\n      return\r\n    }\r\n\r\n    const fileIds = unprocessedDocuments.map(doc => doc.id)\r\n    const fileNames = unprocessedDocuments.map(doc => doc.filename)\r\n\r\n    try {\r\n      setIsProcessing(true)\r\n      console.log(`Processing ${fileIds.length} documents: ${fileNames.join(', ')}`)\r\n\r\n      const response = await api.post('/api/process', fileIds, {\r\n        params: {\r\n          clear_before_upload: false,\r\n          user_id: '1'\r\n        },\r\n        timeout: 300000, // 5 minutes timeout for processing\r\n      })\r\n\r\n      console.log('Process response:', response.data)\r\n\r\n      if (response.data.success) {\r\n        alert(`‚úÖ Successfully processed ${fileNames.length} documents:\\n${fileNames.join('\\n')}\\n\\n${response.data.message}`)\r\n        loadDocuments() // Reload to update processed status\r\n      } else {\r\n        alert(`‚ùå Processing failed: ${response.data.message}`)\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Process failed:', error)\r\n      const errorMessage = error.response?.data?.detail || error.message || 'Unknown error occurred'\r\n      alert(`‚ùå Processing failed: ${errorMessage}`)\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  const handleChat = async () => {\r\n    if (!currentMessage.trim() || !selectedDocument) return\r\n\r\n    try {\r\n      setIsLoading(true)\r\n      const response = await api.post('/api/chat', {\r\n        message: currentMessage,\r\n        document_id: selectedDocument.id,\r\n        provider: selectedProvider,\r\n        model: selectedModel\r\n      })\r\n\r\n      setChatMessages([...chatMessages, {\r\n        id: Date.now().toString(),\r\n        user_message: currentMessage,\r\n        bot_response: response.data.response,\r\n        timestamp: new Date().toISOString(),\r\n        session_id: 'default'\r\n      }])\r\n      setCurrentMessage('')\r\n    } catch (error) {\r\n      console.error('Chat failed:', error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  // General Chat Function\r\n  const handleGeneralChatSend = async () => {\r\n    if (!generalChatInput.trim()) return\r\n\r\n    const userMessage = generalChatInput.trim()\r\n    setGeneralChatInput('')\r\n    setIsGeneralChatLoading(true)\r\n\r\n    // Add user message to chat\r\n    setGeneralChatMessages(prev => [...prev, {\r\n      id: Date.now().toString(),\r\n      sender: 'user' as const,\r\n      message: userMessage,\r\n      timestamp: new Date().toISOString()\r\n    }])\r\n\r\n    try {\r\n      // Call general chat API (no document_id required)\r\n      const response = await api.post('/api/chat/general', {\r\n        message: userMessage,\r\n        provider: selectedProvider,\r\n        model: selectedModel\r\n      })\r\n\r\n      // Add AI response to chat\r\n      setGeneralChatMessages(prev => [...prev, {\r\n        id: (Date.now() + 1).toString(),\r\n        sender: 'bot' as const,\r\n        message: response.data.response,\r\n        timestamp: new Date().toISOString()\r\n      }])\r\n    } catch (error: any) {\r\n      console.error('General chat failed:', error)\r\n      // Add error message to chat\r\n      setGeneralChatMessages(prev => [...prev, {\r\n        id: (Date.now() + 1).toString(),\r\n        sender: 'bot' as const,\r\n        message: `‚ùå Error: ${error.response?.data?.detail || error.message || 'Failed to get response'}`,\r\n        timestamp: new Date().toISOString()\r\n      }])\r\n    } finally {\r\n      setIsGeneralChatLoading(false)\r\n    }\r\n  }\r\n\r\n  // Memory Management Functions\r\n  const loadMemoryStats = async () => {\r\n    try {\r\n      const response = await api.get('/api/memory/stats')\r\n      setMemoryStats(response.data)\r\n    } catch (error) {\r\n      console.error('Failed to load memory stats:', error)\r\n    }\r\n  }\r\n\r\n  const addMemory = async () => {\r\n    try {\r\n      await api.post('/api/memory/add', {\r\n        memory_type: newMemoryType,\r\n        content: newMemoryContent\r\n      })\r\n      setNewMemoryContent('')\r\n      loadMemoryStats()\r\n    } catch (error) {\r\n      console.error('Failed to add memory:', error)\r\n    }\r\n  }\r\n\r\n  const searchMemories = async () => {\r\n    try {\r\n      const response = await api.post('/api/memory/search', {\r\n        query: memorySearchQuery\r\n      })\r\n      setMemorySearchResults(response.data.results || [])\r\n    } catch (error) {\r\n      console.error('Failed to search memories:', error)\r\n    }\r\n  }\r\n\r\n  const consolidateMemories = async () => {\r\n    try {\r\n      await api.post('/api/memory/consolidate')\r\n      loadMemoryStats()\r\n    } catch (error) {\r\n      console.error('Failed to consolidate memories:', error)\r\n    }\r\n  }\r\n\r\n  // Social Bots Functions\r\n  const addBotConfig = async () => {\r\n    try {\r\n      await api.post('/api/social-bots/config', {\r\n        platform: newBotPlatform,\r\n        bot_token: newBotToken,\r\n        webhook_url: newBotWebhook,\r\n        channels: newBotChannels.split(',').map(c => c.trim())\r\n      })\r\n      setNewBotToken('')\r\n      setNewBotWebhook('')\r\n      setNewBotChannels('')\r\n      loadBotConfigs()\r\n    } catch (error) {\r\n      console.error('Failed to add bot config:', error)\r\n    }\r\n  }\r\n\r\n  const loadBotConfigs = async () => {\r\n    try {\r\n      const response = await api.get('/api/social-bots/configs')\r\n      setBotConfigs(response.data.configs || {})\r\n    } catch (error) {\r\n      console.error('Failed to load bot configs:', error)\r\n    }\r\n  }\r\n\r\n  const sendBotMessage = async () => {\r\n    try {\r\n      await api.post('/api/social-bots/send', {\r\n        platform: selectedBotPlatform,\r\n        channel: selectedBotChannel,\r\n        message: botMessage\r\n      })\r\n      setBotMessage('')\r\n    } catch (error) {\r\n      console.error('Failed to send bot message:', error)\r\n    }\r\n  }\r\n\r\n  const testBotConnection = async (platform: string) => {\r\n    try {\r\n      await api.post(`/api/social-bots/test/${platform}`)\r\n    } catch (error) {\r\n      console.error('Failed to test bot connection:', error)\r\n    }\r\n  }\r\n\r\n  const deleteBotConfig = async (platform: string) => {\r\n    try {\r\n      await api.delete(`/api/social-bots/config/${platform}`)\r\n      loadBotConfigs()\r\n    } catch (error) {\r\n      console.error('Failed to delete bot config:', error)\r\n    }\r\n  }\r\n\r\n  // Feedback Functions\r\n  const openFeedbackModal = (chatMessage: any) => {\r\n    setSelectedChatForFeedback(chatMessage)\r\n    setShowFeedbackModal(true)\r\n    setFeedbackRating(0)\r\n    setFeedbackType('good')\r\n    setFeedbackText('')\r\n  }\r\n\r\n  const submitFeedback = async () => {\r\n    if (!selectedChatForFeedback || feedbackRating === 0) {\r\n      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏≤‡∏ß')\r\n      return\r\n    }\r\n\r\n    try {\r\n      const feedbackData = {\r\n        chat_id: selectedChatForFeedback.id,\r\n        question: selectedChatForFeedback.user_message,\r\n        answer: selectedChatForFeedback.bot_response,\r\n        rating: feedbackRating,\r\n        feedback_type: feedbackType,\r\n        feedback_text: feedbackText,\r\n        ai_provider: selectedProvider,\r\n        model: selectedModel,\r\n        user_id: '1'\r\n      }\r\n\r\n      const response = await api.post('/api/feedback', feedbackData)\r\n\r\n      if (response.data.success) {\r\n        alert('‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à')\r\n        setShowFeedbackModal(false)\r\n        fetchFeedbackStats()\r\n      }\r\n    } catch (error: any) {\r\n      alert(`‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ${error.response?.data?.detail || error.message}`)\r\n    }\r\n  }\r\n\r\n  const fetchFeedbackStats = async () => {\r\n    try {\r\n      const response = await api.get('/api/feedback/stats')\r\n      setFeedbackStats(response.data)\r\n    } catch (error) {\r\n      console.error('Error fetching feedback stats:', error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center h-16\">\r\n            <div className=\"flex items-center\">\r\n              <DocumentTextIcon className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n              <h1 className=\"text-xl font-semibold text-gray-900\">RAG PDF System</h1>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={() => setShowAIConfigModal(true)}\r\n                className=\"flex items-center px-3 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\r\n              >\r\n                <CogIcon className=\"h-4 w-4 mr-2\" />\r\n                AI Config\r\n              </button>\r\n              <button\r\n                onClick={() => setShowSheetsModal(true)}\r\n                className=\"flex items-center px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700\"\r\n              >\r\n                <DocumentTextIcon className=\"h-4 w-4 mr-2\" />\r\n                Google Sheets\r\n              </button>\r\n              <button\r\n                onClick={() => setShowMemoryModal(true)}\r\n                className=\"flex items-center px-3 py-2 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700\"\r\n              >\r\n                <CpuChipIcon className=\"h-4 w-4 mr-2\" />\r\n                Memory\r\n              </button>\r\n              <button\r\n                onClick={() => setShowSocialBotsModal(true)}\r\n                className=\"flex items-center px-3 py-2 text-sm bg-teal-600 text-white rounded-md hover:bg-teal-700\"\r\n              >\r\n                <ShareIcon className=\"h-4 w-4 mr-2\" />\r\n                Social Bots\r\n              </button>\r\n              {user ? (\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <span className=\"text-sm text-gray-700\">Welcome, {user.username}</span>\r\n                  <button\r\n                    onClick={handleLogout}\r\n                    className=\"flex items-center px-3 py-2 text-sm bg-red-600 text-white rounded-md hover:bg-red-700\"\r\n                  >\r\n                    <ArrowRightStartOnRectangleIcon className=\"h-4 w-4 mr-2\" />\r\n                    Logout\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <button\r\n                  onClick={() => setShowLoginModal(true)}\r\n                  className=\"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n                >\r\n                  Login\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {user && (\r\n          /* General Chat Section */\r\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center\">\r\n              <ChatBubbleLeftRightIcon className=\"h-5 w-5 mr-2 text-blue-600\" />\r\n              üí¨ AI Chat Assistant\r\n            </h3>\r\n\r\n            {/* Chat Messages */}\r\n            <div className=\"border rounded-lg p-4 h-80 overflow-y-auto mb-4 bg-gray-50\">\r\n              {generalChatMessages.length === 0 ? (\r\n                <div className=\"text-center text-gray-500\">\r\n                  <ChatBubbleLeftRightIcon className=\"h-12 w-12 mx-auto mb-2 text-gray-300\" />\r\n                  <p>No messages yet. Start a conversation with the AI!</p>\r\n                  <p className=\"text-sm mt-1\">Ask questions about your uploaded documents or anything else.</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {generalChatMessages.map((msg, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className={`flex ${\r\n                        msg.sender === 'user' ? 'justify-end' : 'justify-start'\r\n                      }`}\r\n                    >\r\n                      <div\r\n                        className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\r\n                          msg.sender === 'user'\r\n                            ? 'bg-blue-500 text-white'\r\n                            : 'bg-gray-200 text-gray-800'\r\n                        }`}\r\n                      >\r\n                        <p className=\"text-sm whitespace-pre-wrap\">{msg.message}</p>\r\n                        <p className=\"text-xs mt-1 opacity-70\">\r\n                          {new Date(msg.timestamp).toLocaleTimeString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                  {isGeneralChatLoading && (\r\n                    <div className=\"flex justify-start\">\r\n                      <div className=\"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg flex items-center\">\r\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2\"></div>\r\n                        <p className=\"text-sm\">Thinking...</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Chat Input */}\r\n            <div className=\"flex space-x-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={generalChatInput}\r\n                onChange={(e) => setGeneralChatInput(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && handleGeneralChatSend()}\r\n                placeholder=\"Ask anything about your documents or general questions...\"\r\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                disabled={isGeneralChatLoading}\r\n              />\r\n              <button\r\n                onClick={handleGeneralChatSend}\r\n                disabled={isGeneralChatLoading || !generalChatInput.trim()}\r\n                className=\"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center\"\r\n              >\r\n                <PaperAirplaneIcon className=\"h-4 w-4 mr-2\" />\r\n                {isGeneralChatLoading ? 'Sending...' : 'Send'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Documents Panel */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-lg font-medium text-gray-900\">Documents</h2>\r\n                <div className=\"flex space-x-2\">\r\n                  <label className=\"flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer\">\r\n                    <CloudArrowUpIcon className=\"h-4 w-4 mr-2\" />\r\n                    Upload Documents\r\n                    <input\r\n                      type=\"file\"\r\n                      multiple\r\n                      accept=\".pdf,.txt,.docx,.xlsx,.xls,.jpg,.jpeg,.png,.gif,.bmp\"\r\n                      onChange={handleUpload}\r\n                      className=\"hidden\"\r\n                    />\r\n                  </label>\r\n                  <button\r\n                    onClick={handleProcessData}\r\n                    disabled={isProcessing}\r\n                    className=\"flex items-center px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <CpuChipIcon className=\"h-4 w-4 mr-2\" />\r\n                    {isProcessing ? 'Processing...' : 'Process Data'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                {documents.map((doc) => (\r\n                  <div\r\n                    key={doc.id}\r\n                    className={`p-3 border rounded-lg cursor-pointer transition-colors ${\r\n                      selectedDocument?.id === doc.id\r\n                        ? 'border-blue-500 bg-blue-50'\r\n                        : 'border-gray-200 hover:border-gray-300'\r\n                    }`}\r\n                    onClick={() => setSelectedDocument(doc)}\r\n                  >\r\n                    <div className=\"flex justify-between items-start\">\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"text-sm font-medium text-gray-900 truncate\">{doc.filename}</h3>\r\n                        <p className=\"text-xs text-gray-500\">{new Date(doc.upload_time).toLocaleDateString()}</p>\r\n                        <div className=\"flex items-center space-x-2 mt-1\">\r\n                          {doc.processed ? (\r\n                            <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full\">\r\n                              ‚úÖ Processed\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium text-orange-700 bg-orange-100 rounded-full\">\r\n                              ‚è≥ Pending\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-1\">\r\n                        <button\r\n                          className={`p-1 rounded ${\r\n                            doc.is_favorite ? 'text-yellow-500' : 'text-gray-400'\r\n                          } hover:text-yellow-500`}\r\n                        >\r\n                          <StarIcon className=\"h-4 w-4\" />\r\n                        </button>\r\n                        {doc.file_type === 'application/pdf' && (\r\n                          <DocumentTextIcon className=\"h-4 w-4 text-red-500\" />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Chat Panel */}\r\n          <div className=\"lg:col-span-2\">\r\n            <div className=\"bg-white rounded-lg shadow h-full flex flex-col\">\r\n              <div className=\"p-6 border-b\">\r\n                <h2 className=\"text-lg font-medium text-gray-900\">\r\n                  {selectedDocument ? `Chat with ${selectedDocument.filename}` : 'Select a document to start chatting'}\r\n                </h2>\r\n              </div>\r\n              <div className=\"flex-1 p-6 overflow-y-auto\">\r\n                <div className=\"space-y-4\">\r\n                  {chatMessages.map((message) => (\r\n                    <div key={message.id} className=\"space-y-2\">\r\n                      <div className=\"flex justify-end\">\r\n                        <div className=\"bg-blue-600 text-white rounded-lg px-4 py-2 max-w-xs\">\r\n                          {message.user_message}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex justify-start\">\r\n                        <div className=\"bg-gray-100 text-gray-900 rounded-lg px-4 py-2 max-w-xs\">\r\n                          {message.bot_response}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex justify-start\">\r\n                        <button\r\n                          onClick={() => openFeedbackModal(message)}\r\n                          className=\"text-gray-500 hover:text-blue-600 text-sm flex items-center space-x-1\"\r\n                        >\r\n                          <StarIcon className=\"h-4 w-4\" />\r\n                          <span>Feedback</span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              {selectedDocument && (\r\n                <div className=\"p-6 border-t\">\r\n                  <div className=\"flex space-x-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={currentMessage}\r\n                      onChange={(e) => setCurrentMessage(e.target.value)}\r\n                      onKeyPress={(e) => e.key === 'Enter' && handleChat()}\r\n                      placeholder=\"Ask a question about the document...\"\r\n                      className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    />\r\n                    <button\r\n                      onClick={handleChat}\r\n                      disabled={isLoading || !currentMessage.trim()}\r\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\"\r\n                    >\r\n                      {isLoading ? 'Sending...' : 'Send'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* Memory Management Modal */}\r\n      {showMemoryModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-bold flex items-center\">\r\n                  <CpuChipIcon className=\"h-6 w-6 mr-2 text-blue-600\" />\r\n                  Memory Management\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowMemoryModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ‚úï\r\n                </button>\r\n              </div>\r\n              <div className=\"text-center text-gray-500 py-8\">\r\n                Memory management features coming soon...\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Login Modal */}\r\n      {showLoginModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg max-w-md w-full\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-bold text-gray-900\">Login</h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowLoginModal(false)\r\n                    setLoginError('')\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ‚úï\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Username\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={loginUsername}\r\n                    onChange={(e) => setLoginUsername(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter username\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && handleLogin()}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Password\r\n                  </label>\r\n                  <input\r\n                    type=\"password\"\r\n                    value={loginPassword}\r\n                    onChange={(e) => setLoginPassword(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter password\"\r\n                    onKeyPress={(e) => e.key === 'Enter' && handleLogin()}\r\n                  />\r\n                </div>\r\n\r\n                {loginError && (\r\n                  <div className=\"text-red-600 text-sm\">\r\n                    {loginError}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex space-x-3 pt-4\">\r\n                  <button\r\n                    onClick={handleLogin}\r\n                    disabled={!loginUsername.trim() || !loginPassword.trim()}\r\n                    className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowLoginModal(false)\r\n                      setLoginError('')\r\n                    }}\r\n                    className=\"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"text-xs text-gray-500 text-center pt-2\">\r\n                  Default credentials: admin / admin123\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* AI Configuration Modal */}\r\n      {showAIConfigModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-bold flex items-center\">\r\n                  <CogIcon className=\"h-6 w-6 mr-2 text-indigo-600\" />\r\n                  AI Configuration\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowAIConfigModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ‚úï\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                {/* AI Provider Selection */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    AI Provider\r\n                  </label>\r\n                  <select\r\n                    value={selectedProvider}\r\n                    onChange={(e) => handleProviderChange(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                  >\r\n                    {availableProviders.map((provider) => (\r\n                      <option key={provider} value={provider}>\r\n                        {provider.charAt(0).toUpperCase() + provider.slice(1)}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Model Selection */}\r\n                {providerModels.length > 0 && (\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Model\r\n                    </label>\r\n                    <select\r\n                      value={selectedModel}\r\n                      onChange={(e) => setSelectedModel(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                    >\r\n                      {providerModels.map((model) => (\r\n                        <option key={model} value={model}>\r\n                          {model}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"bg-gray-50 p-4 rounded-md\">\r\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Current Configuration</h4>\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    <p>Provider: <span className=\"font-medium\">{selectedProvider}</span></p>\r\n                    <p>Model: <span className=\"font-medium\">{selectedModel || 'Loading...'}</span></p>\r\n                    <p>API Key: <span className=\"font-medium\">{apiKeys[selectedProvider] ? '‚úÖ Configured' : '‚ùå Not Set'}</span></p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* API Key Management */}\r\n                <div>\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <label className=\"block text-sm font-medium text-gray-700\">\r\n                      API Key Management\r\n                    </label>\r\n                    {!apiKeys[selectedProvider] && (\r\n                      <button\r\n                        onClick={() => setShowApiKeyInput(true)}\r\n                        className=\"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n                      >\r\n                        Add API Key\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n\r\n                  {showApiKeyInput && !apiKeys[selectedProvider] && (\r\n                    <div className=\"border border-gray-200 rounded-md p-3 space-y-2\">\r\n                      <input\r\n                        type=\"password\"\r\n                        value={newApiKey}\r\n                        onChange={(e) => setNewApiKey(e.target.value)}\r\n                        placeholder={`Enter ${selectedProvider} API key`}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm\"\r\n                      />\r\n                      <div className=\"flex space-x-2\">\r\n                        <button\r\n                          onClick={saveApiKey}\r\n                          disabled={!newApiKey.trim()}\r\n                          className=\"flex-1 px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 disabled:opacity-50\"\r\n                        >\r\n                          Save\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setShowApiKeyInput(false)\r\n                            setNewApiKey('')\r\n                          }}\r\n                          className=\"flex-1 px-3 py-1 bg-gray-300 text-gray-700 rounded text-sm hover:bg-gray-400\"\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {apiKeys[selectedProvider] && (\r\n                    <div className=\"border border-gray-200 rounded-md p-3\">\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm text-green-600\">‚úÖ API Key configured</span>\r\n                        <button\r\n                          onClick={() => deleteApiKey(selectedProvider)}\r\n                          className=\"text-xs px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700\"\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex justify-end\">\r\n                  <button\r\n                    onClick={() => setShowAIConfigModal(false)}\r\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\r\n                  >\r\n                    Done\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Google Sheets Modal */}\r\n      {showSheetsModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-bold flex items-center\">\r\n                  <DocumentTextIcon className=\"h-6 w-6 mr-2 text-green-600\" />\r\n                  Google Sheets Processing\r\n                </h3>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowSheetsModal(false)\r\n                    setSheetsUrl('')\r\n                    setSheetsPreview(null)\r\n                  }}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ‚úï\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                {/* Google Sheets URL Input */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Google Sheets URL\r\n                  </label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={sheetsUrl}\r\n                    onChange={(e) => setSheetsUrl(e.target.value)}\r\n                    placeholder=\"https://docs.google.com/spreadsheets/d/...\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Preview and Process Buttons */}\r\n                <div className=\"flex space-x-3\">\r\n                  <button\r\n                    onClick={previewGoogleSheets}\r\n                    disabled={!sheetsUrl.trim() || isProcessing}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\r\n                  >\r\n                    {isProcessing ? 'Loading...' : 'Preview'}\r\n                  </button>\r\n                  <button\r\n                    onClick={processGoogleSheets}\r\n                    disabled={!sheetsUrl.trim() || isProcessing}\r\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50\"\r\n                  >\r\n                    {isProcessing ? 'Processing...' : 'Process & Add to Documents'}\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Processing Status */}\r\n                {sheetsProcessingStatus && (\r\n                  <div className={`mt-3 p-3 rounded-lg text-sm font-medium ${\r\n                    sheetsProcessingStatus.includes('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à')\r\n                      ? 'bg-green-100 text-green-800 border border-green-200'\r\n                      : sheetsProcessingStatus.includes('‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß')\r\n                      ? 'bg-red-100 text-red-800 border border-red-200'\r\n                      : 'bg-blue-100 text-blue-800 border border-blue-200'\r\n                  }`}>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {sheetsProcessingStatus.includes('‡∏Å‡∏≥‡∏•‡∏±‡∏á') && (\r\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600\"></div>\r\n                      )}\r\n                      {sheetsProcessingStatus.includes('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à') && (\r\n                        <svg className=\"h-4 w-4 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                          <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                      )}\r\n                      {sheetsProcessingStatus.includes('‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß') && (\r\n                        <svg className=\"h-4 w-4 text-red-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                          <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                      )}\r\n                      <span>{sheetsProcessingStatus}</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Preview Results */}\r\n                {sheetsPreview && (\r\n                  <div className=\"bg-gray-50 p-4 rounded-md\">\r\n                    <h4 className=\"font-medium text-gray-900 mb-2\">Preview</h4>\r\n                    <div className=\"text-sm text-gray-600\">\r\n                      <p>Sheet Name: {sheetsPreview.sheet_name}</p>\r\n                      <p>Rows: {sheetsPreview.row_count}</p>\r\n                      <p>Columns: {sheetsPreview.column_count}</p>\r\n                      {sheetsPreview.sample_data && (\r\n                        <div className=\"mt-3\">\r\n                          <p className=\"font-medium\">Sample Data:</p>\r\n                          <pre className=\"bg-white p-2 rounded border text-xs overflow-auto\">\r\n                            {JSON.stringify(sheetsPreview.sample_data, null, 2)}\r\n                          </pre>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-3\">\r\n                  <p className=\"text-sm text-yellow-800\">\r\n                    <strong>Note:</strong> Make sure your Google Sheet is publicly accessible or shared with the service account.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Social Media Bots Modal */}\r\n      {showSocialBotsModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-bold flex items-center\">\r\n                  <ShareIcon className=\"h-6 w-6 mr-2 text-blue-600\" />\r\n                  Social Media Bots\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowSocialBotsModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ‚úï\r\n                </button>\r\n              </div>\r\n              <div className=\"text-center text-gray-500 py-8\">\r\n                Social media bot features coming soon...\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Feedback Modal */}\r\n      {showFeedbackModal && selectedChatForFeedback && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6 border-b border-gray-200\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Rate this response</h3>\r\n                <button\r\n                  onClick={() => setShowFeedbackModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-4\">\r\n              {/* Question */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Your question:</label>\r\n                <div className=\"bg-gray-50 p-3 rounded-lg text-sm text-gray-800\">\r\n                  {selectedChatForFeedback.user_message}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Answer */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">AI Response:</label>\r\n                <div className=\"bg-gray-50 p-3 rounded-lg text-sm text-gray-800\">\r\n                  {selectedChatForFeedback.bot_response}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Star Rating */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Rating:</label>\r\n                <div className=\"flex space-x-2\">\r\n                  {[1, 2, 3, 4, 5].map((star) => (\r\n                    <StarIcon\r\n                      key={star}\r\n                      className={`h-8 w-8 cursor-pointer transition-colors ${\r\n                        star <= feedbackRating ? 'text-yellow-400 fill-current' : 'text-gray-300'\r\n                      }`}\r\n                      onClick={() => setFeedbackRating(star)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Feedback Type */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Feedback Type:</label>\r\n                <select\r\n                  value={feedbackType}\r\n                  onChange={(e) => setFeedbackType(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"good\">Good</option>\r\n                  <option value=\"bad\">Bad</option>\r\n                  <option value=\"improvement\">Needs Improvement</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Feedback Text */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Additional comments:</label>\r\n                <textarea\r\n                  value={feedbackText}\r\n                  onChange={(e) => setFeedbackText(e.target.value)}\r\n                  rows={3}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  placeholder=\"Any additional feedback...\"\r\n                />\r\n              </div>\r\n\r\n              {/* Submit Button */}\r\n              <div className=\"flex space-x-3 pt-4\">\r\n                <button\r\n                  onClick={() => setShowFeedbackModal(false)}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={submitFeedback}\r\n                  disabled={feedbackRating === 0}\r\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  Submit Feedback\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}